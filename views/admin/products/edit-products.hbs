<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<div class="layout-page">
    <div class="content-wrapper">
        <div class="container-xxl flex-grow-1 container-p-y">
            <h4 class="fw-bold py-3 mb-4"><span class="text-muted fw-light">Manage
                    Products / Products /</span>
                Edit Products</h4>

            <!-- Basic Layout & Basic with Icons -->
            <div class="row">
                <!-- Basic Layout -->
                <div class="col-xxl">
                    <div class="card mb-4">
                        <div class="card-header d-flex align-items-center justify-content-between">
                            <h5 class="mb-0">Edit Products</h5>
                            <a href="/admin/admin-products" class="btn btn-primary">Go Back</a>
                        </div>
                        <div class="card-body">
                            <form action="/admin/edit-products/{{product._id}}" method="post"
                                enctype="multipart/form-data">

                                {{!-- ----Product Name---- --}}

                                <div class="row mb-3">
                                    <label class="col-sm-2 col-form-label" for="basic-default-name">Product Name</label>
                                    <div class="col-sm-10">
                                        <input type="text" name="Product_Name" value="{{product.Product_Name}}"
                                            class="form-control" id="basic-default-name"
                                            placeholder="Enter Product Name" required/>
                                    </div>
                                </div>

                                {{!-- ----Brand Name---- --}}

                                <div class="row mb-3">
                                    <label class="col-sm-2 col-form-label" for="basic-default-company">Brand</label>
                                    <div class="col-sm-10">
                                        <select name="Brand" class="form-control">
                                            <option value="{{product.Brand._id}}" selected>{{product.Brand.Brand_Name}}</option>
                                            {{#each brands}}
                                            <option value="{{this._id}}">{{this.Brand_Name}}</option>
                                            {{/each}}

                                        </select>
                                    </div>
                                </div>

                                {{!-- ----Category---- --}}

                                <div class="row mb-3">
                                    <label class="col-sm-2 col-form-label" for="basic-default-company">Category</label>
                                    <div class="col-sm-10">
                                        <select name="Category" class="form-control">
                                            <option value="{{product.Category._id}}" selected>{{product.Category.Category}}</option>
                                            {{#each categories}}
                                            <option value="{{this._id}}">{{this.Category}}</option>
                                            {{/each}}
                                        </select>
                                    </div>
                                </div>

                                {{!-- ----Subcategory---- --}}

                                <div class="row mb-3">
                                    <label class="col-sm-2 col-form-label"
                                        for="basic-default-company">Subcategory</label>
                                    <div class="col-sm-10">
                                        <select name="Sub_category" class="form-control">
                                            <option value="{{product.Sub_category._id}}" selected>{{product.Sub_category.Sub_category}}</option>
                                            {{#each subcategories}}
                                            <option value="{{this._id}}">{{this.Sub_category}}</option>
                                            {{/each}}
                                        </select>
                                    </div>
                                </div>

                                {{!-- ----Color---- --}}

                                <div class="row mb-3">
                                    <label class="col-sm-2 col-form-label" for="basic-default-company">Color</label>
                                    <div class="col-sm-10">
                                        <input type="text" name="Color" value="{{product.Color}}" class="form-control"
                                            id="basic-default-company" placeholder="Product Color" required/>
                                    </div>
                                </div>

                                {{!-- ----MRP---- --}}

                                <div class="row mb-3">
                                    <label class="col-sm-2 col-form-label" for="basic-default-company">Maximum Retail
                                        Price</label>
                                    <div class="col-sm-10">
                                        <input type="number" name="MRP" value="{{product.MRP}}" class="form-control"
                                            id="basic-default-company" placeholder="MRP" required/>
                                    </div>
                                </div>

                                {{!-- ----Discount---- --}}

                                <div class="row mb-3">
                                    <label class="col-sm-2 col-form-label" for="basic-default-company">Discount </label>
                                    <div class="col-sm-10">
                                        <input type="number" name="Discount" value="{{product.Discount}}"
                                            class="form-control" id="basic-default-company"
                                            placeholder="Discount in Percentage" required/>
                                    </div>
                                </div>

                                {{!-- ----Stock---- --}}

                                <div class="row mb-3">
                                    <label class="col-sm-2 col-form-label" for="basic-default-company">Stock</label>
                                    <div class="col-sm-10">
                                        <input type="number" name="Stock" value="{{product.Stock}}" class="form-control"
                                            id="basic-default-company" placeholder="Stock Details" required/>
                                    </div>
                                </div>

                                {{!-- ----Size---- --}}

                                <div class="row mb-3">
                                    <label class="col-sm-2 col-form-label" for="basic-default-company">Size</label>
                                    <div class="col-sm-10">
                                        <input type="number" name="Size" value="{{product.Size}}" class="form-control"
                                            id="basic-default-company" placeholder="Size" required/>
                                    </div>
                                </div>

                                {{!-- ----Image1---- --}}

                                <div class="row mb-3">
                                    <label class="col-sm-2 col-form-label" for="basic-default-phone">Image 1</label>
                                    <div class="col-sm-10">
                                        <img src="/uploads/{{product.Images.0.image1}}" alt="" srcset=""
                                            style="width: 100px;height: auto; " class="mb-2" id="imgView" />
                                        <input type="file" name="image1" id="basic-default-images"
                                            class="form-control image" value="{{product.Images.0.image1}}" aria-label="" />
                                       
                                    </div>
                                </div>

                                {{!-- ----Image2---- --}}

                                <div class="row mb-3">
                                    <label class="col-sm-2 col-form-label" for="basic-default-phone">Image 2</label>
                                    <div class="col-sm-10">
                                        <img src="/uploads/{{product.Images.[0].image2}}" alt="" srcset=""
                                            style="width: 100px;height: auto; " class="mb-2" id="imgView" />
                                        <input type="file" name="image2" id="basic-default-images"
                                            class="form-control image" value="{{product.Images.[0].image2}}" onchange="viewImage(event)"/>
                                            
                                    </div>
                                </div>

                                {{!-- ----Image3---- --}}

                                <div class="row mb-3">
                                    <label class="col-sm-2 col-form-label" for="basic-default-phone">Image 3</label>
                                    <div class="col-sm-10">
                                        <img src="/uploads/{{product.Images.[0].image3}}" alt="" srcset=""
                                            style="width: 100px;height: auto; " class="mb-2" id="imgView" />
                                        <input type="file" name="image3" id="basic-default-images"
                                            class="form-control image" onchange="viewImage(event)"/>
                                            <input type="file" id="defaultRegisterFormLastName" class="form-control"
                                            style="display: none;" name="image1" value="{{product.Images.[0].image3}}" onchange="viewImage(event)"/>
                                    </div>
                                </div>

                                {{!-- ----Image4---- --}}

                                <div class="row mb-3">
                                    <label class="col-sm-2 col-form-label" for="basic-default-phone">Image 4</label>
                                    <div class="col-sm-10">
                                        <img src="/uploads/{{product.Images.[0].image4}}" alt="" srcset=""
                                            style="width: 100px;height: auto; " class="mb-2" id="imgView" />
                                        <input type="file" name="image4" id="basic-default-images"
                                            class="form-control image"/>
                                             <input type="file" id="defaultRegisterFormLastName" class="form-control"
                                            style="display: none;" name="image1" value="{{product.Images.[0].image3}}" onchange="viewImage(event)"/>
                                    </div>
                                </div>

                                {{!-- ----Submission---- --}}

                                <div class="row justify-content-end">
                                    <div class="col-sm-10">
                                        <button type="submit" class="btn btn-primary">Edit</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <!-- Basic with Icons -->

            </div>
        </div>
    </div>
</div>

<script>
    function viewImage(event){
        document.getElementById('imgView').src.URL.createObjectURL(event.target.files[0])
    }
</script>